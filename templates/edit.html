<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Receipt Analyzer - Edit Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/stylels.css') }}">

     <div class="edit-container">
        <div class="edit-card">
            <div class="edit-header">
                <div class="icon">
                    <i class="fas fa-user-edit"></i>
                </div>
                <h2>Edit Your Info</h2>
                <p class="mb-0 opacity-75">Update your account details</p>
            </div>
            
            <div class="edit-body">
                <!-- Error Alert -->
                {% if error %}
                <div class="alert error-alert">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    {{ error|safe }}
                </div>
                {% endif %}
                
                <form method="post">
                    <!-- Personal Information Section -->
                    <div class="section-title">
                        <i class="fas fa-user me-2"></i>Personal Information
                    </div>
                    
                    <div class="name-row">
                        <div class="form-floating">
                            <input type="text" class="form-control" id="firstName" name="firstName" 
                                   placeholder="First Name" value="{{ session.fname }}" required>
                            <label for="firstName"><i class="fas fa-user me-2"></i>First Name</label>
                        </div>
                        
                        <div class="form-floating">
                            <input type="text" class="form-control" id="lastName" name="lastName" 
                                   placeholder="Last Name" value="{{ session.lname }}" required>
                            <label for="lastName"><i class="fas fa-user me-2"></i>Last Name</label>
                        </div>
                    </div>
                    
                    <div class="form-floating">
                        <input type="email" class="form-control" id="email" name="email" 
                               placeholder="Email Address" value="{{ session.get('email', '') }}" required>
                        <label for="email"><i class="fas fa-envelope me-2"></i>Email Address</label>
                    </div>
                    
                    <hr class="section-divider">
                    
                    <!-- Password Section -->
                    <div class="section-title">
                        <i class="fas fa-lock me-2"></i>Password Settings
                    </div>
                    
                    <div class="form-floating">
                        <input type="password" class="form-control" id="oldPassword" name="oldPassword" 
                               placeholder="Current Password">
                        <label for="oldPassword"><i class="fas fa-key me-2"></i>Current Password</label>
                    </div>
                    
                    <div class="form-floating">
                        <input type="password" class="form-control" id="newPassword" name="newPassword" 
                               placeholder="New Password">
                        <label for="newPassword"><i class="fas fa-lock me-2"></i>New Password</label>
                    </div>
                    
                    <div style="margin-top: 30px;">
                        <button class="btn btn-save" type="submit">
                            <i class="fas fa-save me-2"></i>
                            Save Changes
                        </button>
                        <a href="{{ url_for('home') }}" class="btn-cancel">
                            <i class="fas fa-times me-2"></i>
                            Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Add active class to current page in navbar
        document.addEventListener('DOMContentLoaded', function() {
            const currentPage = window.location.pathname;
            const navLinks = document.querySelectorAll('.nav-link');
            
            navLinks.forEach(link => {
                if (link.getAttribute('href') === currentPage) {
                    link.classList.add('active');
                }
            });
        });

        // Form validation feedback
        const form = document.querySelector('form');
        const inputs = form.querySelectorAll('input[required]');
        
        inputs.forEach(input => {
            input.addEventListener('blur', function() {
                if (this.value.trim() === '') {
                    this.style.borderColor = '#e74c3c';
                } else {
                    this.style.borderColor = '#27ae60';
                }
            });
        });
    </script>
</body>
</html>